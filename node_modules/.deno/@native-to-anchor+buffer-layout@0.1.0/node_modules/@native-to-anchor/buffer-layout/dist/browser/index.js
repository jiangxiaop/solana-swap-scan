import e from"bn.js";import t from"buffer";import{PublicKey as r}from"@solana/web3.js";var n={};Object.defineProperty(n,"__esModule",{value:!0});var o=n.s16=n.s8=n.nu64be=n.u48be=n.u40be=n.u32be=n.u24be=n.u16be=n.nu64=n.u48=n.u40=H=n.u32=n.u24=n.u16=$=n.u8=q=n.offset=n.greedy=n.Constant=n.UTF8=n.CString=n.Blob=n.Boolean=n.BitField=n.BitStructure=n.VariantLayout=n.Union=n.UnionLayoutDiscriminator=n.UnionDiscriminator=n.Structure=n.Sequence=n.DoubleBE=n.Double=n.FloatBE=n.Float=n.NearInt64BE=n.NearInt64=n.NearUInt64BE=n.NearUInt64=n.IntBE=n.Int=n.UIntBE=n.UInt=n.OffsetLayout=n.GreedyCount=n.ExternalLayout=n.bindConstructorLayout=n.nameWithProperty=n.Layout=n.uint8ArrayToBuffer=n.checkUint8Array=void 0;n.constant=n.utf8=n.cstr=ee=n.blob=n.unionLayoutDiscriminator=n.union=K=n.seq=n.bits=Z=n.struct=n.f64be=n.f64=n.f32be=n.f32=n.ns64be=n.s48be=n.s40be=n.s32be=n.s24be=n.s16be=n.ns64=n.s48=n.s40=n.s32=n.s24=void 0;const i=t;function s(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function a(e){return s(e),i.Buffer.from(e.buffer,e.byteOffset,e.length)}n.checkUint8Array=s,n.uint8ArrayToBuffer=a;class u{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var c=n.Layout=u;function l(e,t){return t.property?e+"["+t.property+"]":e}n.nameWithProperty=l,n.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof u))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:(e,r)=>t.decode(e,r),writable:!0})};class f extends u{isCount(){throw new Error("ExternalLayout is abstract")}}n.ExternalLayout=f;class h extends f{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){s(e);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}n.GreedyCount=h;class d extends f{constructor(e,t=0,r){if(!(e instanceof u))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof p||this.layout instanceof y}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}n.OffsetLayout=d;class p extends u{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return a(e).readUIntLE(t,this.span)}encode(e,t,r=0){return a(t).writeUIntLE(e,r,this.span),this.span}}n.UInt=p;class y extends u{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return a(e).readUIntBE(t,this.span)}encode(e,t,r=0){return a(t).writeUIntBE(e,r,this.span),this.span}}n.UIntBE=y;class w extends u{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return a(e).readIntLE(t,this.span)}encode(e,t,r=0){return a(t).writeIntLE(e,r,this.span),this.span}}n.Int=w;class g extends u{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return a(e).readIntBE(t,this.span)}encode(e,t,r=0){return a(t).writeIntBE(e,r,this.span),this.span}}n.IntBE=g;const m=Math.pow(2,32);function b(e){const t=Math.floor(e/m);return{hi32:t,lo32:e-t*m}}function E(e,t){return e*m+t}class v extends u{constructor(e){super(8,e)}decode(e,t=0){const r=a(e),n=r.readUInt32LE(t);return E(r.readUInt32LE(t+4),n)}encode(e,t,r=0){const n=b(e),o=a(t);return o.writeUInt32LE(n.lo32,r),o.writeUInt32LE(n.hi32,r+4),8}}n.NearUInt64=v;class S extends u{constructor(e){super(8,e)}decode(e,t=0){const r=a(e);return E(r.readUInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){const n=b(e),o=a(t);return o.writeUInt32BE(n.hi32,r),o.writeUInt32BE(n.lo32,r+4),8}}n.NearUInt64BE=S;class x extends u{constructor(e){super(8,e)}decode(e,t=0){const r=a(e),n=r.readUInt32LE(t);return E(r.readInt32LE(t+4),n)}encode(e,t,r=0){const n=b(e),o=a(t);return o.writeUInt32LE(n.lo32,r),o.writeInt32LE(n.hi32,r+4),8}}n.NearInt64=x;class B extends u{constructor(e){super(8,e)}decode(e,t=0){const r=a(e);return E(r.readInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){const n=b(e),o=a(t);return o.writeInt32BE(n.hi32,r),o.writeUInt32BE(n.lo32,r+4),8}}n.NearInt64BE=B;class O extends u{constructor(e){super(4,e)}decode(e,t=0){return a(e).readFloatLE(t)}encode(e,t,r=0){return a(t).writeFloatLE(e,r),4}}n.Float=O;class L extends u{constructor(e){super(4,e)}decode(e,t=0){return a(e).readFloatBE(t)}encode(e,t,r=0){return a(t).writeFloatBE(e,r),4}}n.FloatBE=L;class I extends u{constructor(e){super(8,e)}decode(e,t=0){return a(e).readDoubleLE(t)}encode(e,t,r=0){return a(t).writeDoubleLE(e,r),8}}n.Double=I;class N extends u{constructor(e){super(8,e)}decode(e,t=0){return a(e).readDoubleBE(t)}encode(e,t,r=0){return a(t).writeDoubleBE(e,r),8}}n.DoubleBE=N;class U extends u{constructor(e,t,r){if(!(e instanceof u))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof f&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(t instanceof f)&&0<e.span&&(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof f&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let o=0;for(;o<n;)r+=this.elementLayout.getSpan(e,t+r),++o}return r}decode(e,t=0){const r=[];let n=0,o=this.count;for(o instanceof f&&(o=o.decode(e,t));n<o;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r=0){const n=this.elementLayout,o=e.reduce(((e,o)=>e+n.encode(o,t,r+e)),0);return this.count instanceof f&&this.count.encode(e.length,t,r),o}}n.Sequence=U;class A extends u{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof u),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===r&&(r=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce(((r,n)=>{const o=n.getSpan(e,t);return t+=o,r+o}),0)}catch(e){throw new RangeError("indeterminate span")}return r}decode(e,t=0){s(e);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){const n=r;let o=0,i=0;for(const n of this.fields){let s=n.span;if(i=0<s?s:0,void 0!==n.property){const o=e[n.property];void 0!==o&&(i=n.encode(o,t,r),0>s&&(s=n.getSpan(t,r)))}o=r,r+=s}return o+i-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}n.Structure=A;class D{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}}n.UnionDiscriminator=D;class T extends D{constructor(e,t){if(!(e instanceof f&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}n.UnionLayoutDiscriminator=T;class P extends u{constructor(e,t,r){let n;if(e instanceof p||e instanceof y)n=new T(new d(e));else if(e instanceof f&&e.isCount())n=new T(e);else{if(!(e instanceof D))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");n=e}if(void 0===t&&(t=null),!(null===t||t instanceof u))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&(e instanceof p||e instanceof y)&&(o+=n.layout.span)),super(o,r),this.discriminator=n,this.usesPrefixDiscriminator=e instanceof p||e instanceof y,this.defaultLayout=t,this.registry={};let i=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return i(e)},this.configGetSourceVariant=function(e){i=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,t=0){let r;const n=this.discriminator,o=n.decode(e,t),i=this.registry[o];if(void 0===i){const i=this.defaultLayout;let s=0;this.usesPrefixDiscriminator&&(s=n.layout.span),r=this.makeDestinationObject(),r[n.property]=o,r[i.property]=i.decode(e,t+s)}else r=i.decode(e,t);return r}encode(e,t,r=0){const n=this.getSourceVariant(e);if(void 0===n){const n=this.discriminator,o=this.defaultLayout;let i=0;return this.usesPrefixDiscriminator&&(i=n.layout.span),n.encode(e[n.property],t,r),i+o.encode(e[o.property],t,r+i)}return n.encode(e,t,r)}addVariant(e,t,r){const n=new _(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t=0){let r;return r=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[r]}}n.Union=P;class _ extends u{constructor(e,t,r,n){if(!(e instanceof P))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof u))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}decode(e,t=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let o=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),o+=this.layout.getSpan(t,r+n),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function k(e){return 0>e&&(e+=4294967296),e}n.VariantLayout=_;class C extends u{constructor(e,t,r){if(!(e instanceof p||e instanceof y))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=k(e),this},this._packedGetValue=function(){return n}}decode(e,t=0){const r=this.makeDestinationObject(),n=this.word.decode(e,t);this._packedSetValue(n);for(const t of this.fields)void 0!==t.property&&(r[t.property]=t.decode(e));return r}encode(e,t,r=0){const n=this.word.decode(t,r);this._packedSetValue(n);for(const t of this.fields)if(void 0!==t.property){const r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new R(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new j(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}n.BitStructure=C;class R{constructor(e,t,r){if(!(e instanceof C))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const n=8*e.span,o=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+o>n)throw new Error("bits too long for span remainder ("+(n-o)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=n-o-t),this.wordMask=k(this.valueMask<<this.start),this.property=r}decode(e,t){return k(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==k(e&this.valueMask))throw new TypeError(l("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=k(e<<this.start);this.container._packedSetValue(k(t&~this.wordMask)|r)}}n.BitField=R;class j extends R{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e=+e),super.encode(e)}}n.Boolean=j;class M extends u{constructor(e,t){if(!(e instanceof f&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof f||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),a(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof f&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw new TypeError(l("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw new RangeError("encoding overruns Uint8Array");const o=a(e);return a(t).write(o.toString("hex"),r,n,"hex"),this.length instanceof f&&this.length.encode(n,t,r),n}}n.Blob=M;class F extends u{constructor(e){super(-1,e)}getSpan(e,t=0){s(e);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t=0){const r=this.getSpan(e,t);return a(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));const n=i.Buffer.from(e,"utf8"),o=n.length;if(r+o>t.length)throw new RangeError("encoding overruns Buffer");const s=a(t);return n.copy(s,r),s[r+o]=0,o+1}}n.CString=F;class V extends u{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return s(e),e.length-t}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return a(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));const n=i.Buffer.from(e,"utf8"),o=n.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return n.copy(a(t),r),o}}n.UTF8=V;class G extends u{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}n.Constant=G,n.greedy=(e,t)=>new h(e,t);var q=n.offset=(e,t,r)=>new d(e,t,r),$=n.u8=e=>new p(1,e),z=n.u16=e=>new p(2,e);n.u24=e=>new p(3,e);var H=n.u32=e=>new p(4,e);n.u40=e=>new p(5,e),n.u48=e=>new p(6,e),n.nu64=e=>new v(e),n.u16be=e=>new y(2,e),n.u24be=e=>new y(3,e),n.u32be=e=>new y(4,e),n.u40be=e=>new y(5,e),n.u48be=e=>new y(6,e),n.nu64be=e=>new S(e);var W=n.s8=e=>new w(1,e);o=n.s16=e=>new w(2,e),n.s24=e=>new w(3,e);var X=n.s32=e=>new w(4,e);n.s40=e=>new w(5,e),n.s48=e=>new w(6,e),n.ns64=e=>new x(e),n.s16be=e=>new g(2,e),n.s24be=e=>new g(3,e),n.s32be=e=>new g(4,e),n.s40be=e=>new g(5,e),n.s48be=e=>new g(6,e),n.ns64be=e=>new B(e);var Y=n.f32=e=>new O(e);n.f32be=e=>new L(e);var J=n.f64=e=>new I(e);n.f64be=e=>new N(e);var Z=n.struct=(e,t,r)=>new A(e,t,r);n.bits=(e,t,r)=>new C(e,t,r);var K=n.seq=(e,t,r)=>new U(e,t,r),Q=n.union=(e,t,r)=>new P(e,t,r);n.unionLayoutDiscriminator=(e,t)=>new T(e,t);var ee=n.blob=(e,t)=>new M(e,t);n.cstr=e=>new F(e),n.utf8=(e,t)=>new V(e,t),n.constant=(e,t)=>new G(e,t);const te=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)});var re={};Object.defineProperty(re,"__esModule",{value:!0});var ne=re.toBigIntLE=function(e){{const t=Buffer.from(e);t.reverse();const r=t.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}};re.toBigIntBE=function(e){{const t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}};var oe=re.toBufferLE=function(e,t){{const r=e.toString(16),n=Buffer.from(r.padStart(2*t,"0").slice(0,2*t),"hex");return n.reverse(),n}};re.toBufferBE=function(e,t){{const r=e.toString(16);return Buffer.from(r.padStart(2*t,"0").slice(0,2*t),"hex")}};const ie=(se=16,e=>{const t=ee(se,e),{encode:r,decode:n}=te(t),o=t;return o.decode=(e,t)=>{const r=n(e,t);return ne(Buffer.from(r))},o.encode=(e,t,n)=>{const o=oe(e,se);return r(o,t,n)},o});var se,ae=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,ue=Math.ceil,ce=Math.floor,le="[BigNumber Error] ",fe=le+"Number primitive has more than 15 significant digits: ",he=1e14,de=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],pe=1e9;function ye(e){var t=0|e;return e>0||e===t?t:t-1}function we(e){for(var t,r,n=1,o=e.length,i=e[0]+"";n<o;){for(r=14-(t=e[n++]+"").length;r--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function ge(e,t){var r,n,o=e.c,i=t.c,s=e.s,a=t.s,u=e.e,c=t.e;if(!s||!a)return null;if(r=o&&!o[0],n=i&&!i[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=u==c,!o||!i)return n?0:!o^r?1:-1;if(!n)return u>c^r?1:-1;for(a=(u=o.length)<(c=i.length)?u:c,s=0;s<a;s++)if(o[s]!=i[s])return o[s]>i[s]^r?1:-1;return u==c?0:u>c^r?1:-1}function me(e,t,r,n){if(e<t||e>r||e!==ce(e))throw Error(le+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function be(e){var t=e.c.length-1;return ye(e.e/14)==t&&e.c[t]%2!=0}function Ee(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function ve(e,t,r){var n,o;if(t<0){for(o=r+".";++t;o+=r);e=o+e}else if(++t>(n=e.length)){for(o=r,t-=n;--t;o+=r);e+=o}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}var Se=function e(t){var r,n,o,i,s,a,u,c,l,f,h=L.prototype={constructor:L,toString:null,valueOf:null},d=new L(1),p=20,y=4,w=-7,g=21,m=-1e7,b=1e7,E=!1,v=1,S=0,x={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},B="0123456789abcdefghijklmnopqrstuvwxyz",O=!0;function L(e,t){var r,i,s,a,u,c,l,f,h=this;if(!(h instanceof L))return new L(e,t);if(null==t){if(e&&!0===e._isBigNumber)return h.s=e.s,void(!e.c||e.e>b?h.c=h.e=null:e.e<m?h.c=[h.e=0]:(h.e=e.e,h.c=e.c.slice()));if((c="number"==typeof e)&&0*e==0){if(h.s=1/e<0?(e=-e,-1):1,e===~~e){for(a=0,u=e;u>=10;u/=10,a++);return void(a>b?h.c=h.e=null:(h.e=a,h.c=[e]))}f=String(e)}else{if(!ae.test(f=String(e)))return o(h,f,c);h.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(a=f.indexOf("."))>-1&&(f=f.replace(".","")),(u=f.search(/e/i))>0?(a<0&&(a=u),a+=+f.slice(u+1),f=f.substring(0,u)):a<0&&(a=f.length)}else{if(me(t,2,B.length,"Base"),10==t&&O)return A(h=new L(e),p+h.e+1,y);if(f=String(e),c="number"==typeof e){if(0*e!=0)return o(h,f,c,t);if(h.s=1/e<0?(f=f.slice(1),-1):1,L.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(fe+e)}else h.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(r=B.slice(0,t),a=u=0,l=f.length;u<l;u++)if(r.indexOf(i=f.charAt(u))<0){if("."==i){if(u>a){a=l;continue}}else if(!s&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){s=!0,u=-1,a=0;continue}return o(h,String(e),c,t)}c=!1,(a=(f=n(f,t,10,h.s)).indexOf("."))>-1?f=f.replace(".",""):a=f.length}for(u=0;48===f.charCodeAt(u);u++);for(l=f.length;48===f.charCodeAt(--l););if(f=f.slice(u,++l)){if(l-=u,c&&L.DEBUG&&l>15&&(e>9007199254740991||e!==ce(e)))throw Error(fe+h.s*e);if((a=a-u-1)>b)h.c=h.e=null;else if(a<m)h.c=[h.e=0];else{if(h.e=a,h.c=[],u=(a+1)%14,a<0&&(u+=14),u<l){for(u&&h.c.push(+f.slice(0,u)),l-=14;u<l;)h.c.push(+f.slice(u,u+=14));u=14-(f=f.slice(u)).length}else u-=l;for(;u--;f+="0");h.c.push(+f)}}else h.c=[h.e=0]}function I(e,t,r,n){var o,i,s,a,u;if(null==r?r=y:me(r,0,8),!e.c)return e.toString();if(o=e.c[0],s=e.e,null==t)u=we(e.c),u=1==n||2==n&&(s<=w||s>=g)?Ee(u,s):ve(u,s,"0");else if(i=(e=A(new L(e),t,r)).e,a=(u=we(e.c)).length,1==n||2==n&&(t<=i||i<=w)){for(;a<t;u+="0",a++);u=Ee(u,i)}else if(t-=s,u=ve(u,i,"0"),i+1>a){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=i-a)>0)for(i+1==a&&(u+=".");t--;u+="0");return e.s<0&&o?"-"+u:u}function N(e,t){for(var r,n=1,o=new L(e[0]);n<e.length;n++){if(!(r=new L(e[n])).s){o=r;break}t.call(o,r)&&(o=r)}return o}function U(e,t,r){for(var n=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,n++);return(r=n+14*r-1)>b?e.c=e.e=null:r<m?e.c=[e.e=0]:(e.e=r,e.c=t),e}function A(e,t,r,n){var o,i,s,a,u,c,l,f=e.c,h=de;if(f){e:{for(o=1,a=f[0];a>=10;a/=10,o++);if((i=t-o)<0)i+=14,s=t,l=(u=f[c=0])/h[o-s-1]%10|0;else if((c=ue((i+1)/14))>=f.length){if(!n)break e;for(;f.length<=c;f.push(0));u=l=0,o=1,s=(i%=14)-14+1}else{for(u=a=f[c],o=1;a>=10;a/=10,o++);l=(s=(i%=14)-14+o)<0?0:u/h[o-s-1]%10|0}if(n=n||t<0||null!=f[c+1]||(s<0?u:u%h[o-s-1]),n=r<4?(l||n)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||n||6==r&&(i>0?s>0?u/h[o-s]:0:f[c-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,n?(t-=e.e+1,f[0]=h[(14-t%14)%14],e.e=-t||0):f[0]=e.e=0,e;if(0==i?(f.length=c,a=1,c--):(f.length=c+1,a=h[14-i],f[c]=s>0?ce(u/h[o-s]%h[s])*a:0),n)for(;;){if(0==c){for(i=1,s=f[0];s>=10;s/=10,i++);for(s=f[0]+=a,a=1;s>=10;s/=10,a++);i!=a&&(e.e++,f[0]==he&&(f[0]=1));break}if(f[c]+=a,f[c]!=he)break;f[c--]=0,a=1}for(i=f.length;0===f[--i];f.pop());}e.e>b?e.c=e.e=null:e.e<m&&(e.c=[e.e=0])}return e}function D(e){var t,r=e.e;return null===r?e.toString():(t=we(e.c),t=r<=w||r>=g?Ee(t,r):ve(t,r,"0"),e.s<0?"-"+t:t)}return L.clone=e,L.ROUND_UP=0,L.ROUND_DOWN=1,L.ROUND_CEIL=2,L.ROUND_FLOOR=3,L.ROUND_HALF_UP=4,L.ROUND_HALF_DOWN=5,L.ROUND_HALF_EVEN=6,L.ROUND_HALF_CEIL=7,L.ROUND_HALF_FLOOR=8,L.EUCLID=9,L.config=L.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(le+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(me(r=e[t],0,pe,t),p=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(me(r=e[t],0,8,t),y=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(me(r[0],-pe,0,t),me(r[1],0,pe,t),w=r[0],g=r[1]):(me(r,-pe,pe,t),w=-(g=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)me(r[0],-pe,-1,t),me(r[1],1,pe,t),m=r[0],b=r[1];else{if(me(r,-pe,pe,t),!r)throw Error(le+t+" cannot be zero: "+r);m=-(b=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(le+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw E=!r,Error(le+"crypto unavailable");E=r}else E=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(me(r=e[t],0,9,t),v=r),e.hasOwnProperty(t="POW_PRECISION")&&(me(r=e[t],0,pe,t),S=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(le+t+" not an object: "+r);x=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(le+t+" invalid: "+r);O="0123456789"==r.slice(0,10),B=r}}return{DECIMAL_PLACES:p,ROUNDING_MODE:y,EXPONENTIAL_AT:[w,g],RANGE:[m,b],CRYPTO:E,MODULO_MODE:v,POW_PRECISION:S,FORMAT:x,ALPHABET:B}},L.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!L.DEBUG)return!0;var t,r,n=e.c,o=e.e,i=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===i||-1===i)&&o>=-pe&&o<=pe&&o===ce(o)){if(0===n[0]){if(0===o&&1===n.length)return!0;break e}if((t=(o+1)%14)<1&&(t+=14),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=he||r!==ce(r))break e;if(0!==r)return!0}}}else if(null===n&&null===o&&(null===i||1===i||-1===i))return!0;throw Error(le+"Invalid BigNumber: "+e)},L.maximum=L.max=function(){return N(arguments,h.lt)},L.minimum=L.min=function(){return N(arguments,h.gt)},L.random=(i=9007199254740992,s=Math.random()*i&2097151?function(){return ce(Math.random()*i)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,o,i,a=0,u=[],c=new L(d);if(null==e?e=p:me(e,0,pe),o=ue(e/14),E)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));a<o;)(i=131072*t[a]+(t[a+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[a]=r[0],t[a+1]=r[1]):(u.push(i%1e14),a+=2);a=o/2}else{if(!crypto.randomBytes)throw E=!1,Error(le+"crypto unavailable");for(t=crypto.randomBytes(o*=7);a<o;)(i=281474976710656*(31&t[a])+1099511627776*t[a+1]+4294967296*t[a+2]+16777216*t[a+3]+(t[a+4]<<16)+(t[a+5]<<8)+t[a+6])>=9e15?crypto.randomBytes(7).copy(t,a):(u.push(i%1e14),a+=7);a=o/7}if(!E)for(;a<o;)(i=s())<9e15&&(u[a++]=i%1e14);for(e%=14,(o=u[--a])&&e&&(i=de[14-e],u[a]=ce(o/i)*i);0===u[a];u.pop(),a--);if(a<0)u=[n=0];else{for(n=-1;0===u[0];u.splice(0,1),n-=14);for(a=1,i=u[0];i>=10;i/=10,a++);a<14&&(n-=14-a)}return c.e=n,c.c=u,c}),L.sum=function(){for(var e=1,t=arguments,r=new L(t[0]);e<t.length;)r=r.plus(t[e++]);return r},n=function(){var e="0123456789";function t(e,t,r,n){for(var o,i,s=[0],a=0,u=e.length;a<u;){for(i=s.length;i--;s[i]*=t);for(s[0]+=n.indexOf(e.charAt(a++)),o=0;o<s.length;o++)s[o]>r-1&&(null==s[o+1]&&(s[o+1]=0),s[o+1]+=s[o]/r|0,s[o]%=r)}return s.reverse()}return function(n,o,i,s,a){var u,c,l,f,h,d,w,g,m=n.indexOf("."),b=p,E=y;for(m>=0&&(f=S,S=0,n=n.replace(".",""),d=(g=new L(o)).pow(n.length-m),S=f,g.c=t(ve(we(d.c),d.e,"0"),10,i,e),g.e=g.c.length),l=f=(w=t(n,o,i,a?(u=B,e):(u=e,B))).length;0==w[--f];w.pop());if(!w[0])return u.charAt(0);if(m<0?--l:(d.c=w,d.e=l,d.s=s,w=(d=r(d,g,b,E,i)).c,h=d.r,l=d.e),m=w[c=l+b+1],f=i/2,h=h||c<0||null!=w[c+1],h=E<4?(null!=m||h)&&(0==E||E==(d.s<0?3:2)):m>f||m==f&&(4==E||h||6==E&&1&w[c-1]||E==(d.s<0?8:7)),c<1||!w[0])n=h?ve(u.charAt(1),-b,u.charAt(0)):u.charAt(0);else{if(w.length=c,h)for(--i;++w[--c]>i;)w[c]=0,c||(++l,w=[1].concat(w));for(f=w.length;!w[--f];);for(m=0,n="";m<=f;n+=u.charAt(w[m++]));n=ve(n,l,u.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,o,i,s,a=0,u=e.length,c=t%1e7,l=t/1e7|0;for(e=e.slice();u--;)a=((o=c*(i=e[u]%1e7)+(n=l*i+(s=e[u]/1e7|0)*c)%1e7*1e7+a)/r|0)+(n/1e7|0)+l*s,e[u]=o%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var o,i;if(r!=n)i=r>n?1:-1;else for(o=i=0;o<r;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function r(e,t,r,n){for(var o=0;r--;)e[r]-=o,o=e[r]<t[r]?1:0,e[r]=o*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,o,i,s,a){var u,c,l,f,h,d,p,y,w,g,m,b,E,v,S,x,B,O=n.s==o.s?1:-1,I=n.c,N=o.c;if(!(I&&I[0]&&N&&N[0]))return new L(n.s&&o.s&&(I?!N||I[0]!=N[0]:N)?I&&0==I[0]||!N?0*O:O/0:NaN);for(w=(y=new L(O)).c=[],O=i+(c=n.e-o.e)+1,a||(a=he,c=ye(n.e/14)-ye(o.e/14),O=O/14|0),l=0;N[l]==(I[l]||0);l++);if(N[l]>(I[l]||0)&&c--,O<0)w.push(1),f=!0;else{for(v=I.length,x=N.length,l=0,O+=2,(h=ce(a/(N[0]+1)))>1&&(N=e(N,h,a),I=e(I,h,a),x=N.length,v=I.length),E=x,m=(g=I.slice(0,x)).length;m<x;g[m++]=0);B=N.slice(),B=[0].concat(B),S=N[0],N[1]>=a/2&&S++;do{if(h=0,(u=t(N,g,x,m))<0){if(b=g[0],x!=m&&(b=b*a+(g[1]||0)),(h=ce(b/S))>1)for(h>=a&&(h=a-1),p=(d=e(N,h,a)).length,m=g.length;1==t(d,g,p,m);)h--,r(d,x<p?B:N,p,a),p=d.length,u=1;else 0==h&&(u=h=1),p=(d=N.slice()).length;if(p<m&&(d=[0].concat(d)),r(g,d,m,a),m=g.length,-1==u)for(;t(N,g,x,m)<1;)h++,r(g,x<m?B:N,m,a),m=g.length}else 0===u&&(h++,g=[0]);w[l++]=h,g[0]?g[m++]=I[E]||0:(g=[I[E]],m=1)}while((E++<v||null!=g[0])&&O--);f=null!=g[0],w[0]||w.splice(0,1)}if(a==he){for(l=1,O=w[0];O>=10;O/=10,l++);A(y,i+(y.e=l+14*c-1)+1,s,f)}else y.e=c,y.r=+f;return y}}(),a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,u=/^([^.]+)\.$/,c=/^\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,f=/^\s*\+(?=[\w.])|^\s+|\s+$/g,o=function(e,t,r,n){var o,i=r?t:t.replace(f,"");if(l.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!r&&(i=i.replace(a,(function(e,t,r){return o="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=o?e:t})),n&&(o=n,i=i.replace(u,"$1").replace(c,"0.$1")),t!=i))return new L(i,o);if(L.DEBUG)throw Error(le+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},h.absoluteValue=h.abs=function(){var e=new L(this);return e.s<0&&(e.s=1),e},h.comparedTo=function(e,t){return ge(this,new L(e,t))},h.decimalPlaces=h.dp=function(e,t){var r,n,o,i=this;if(null!=e)return me(e,0,pe),null==t?t=y:me(t,0,8),A(new L(i),e+i.e+1,t);if(!(r=i.c))return null;if(n=14*((o=r.length-1)-ye(this.e/14)),o=r[o])for(;o%10==0;o/=10,n--);return n<0&&(n=0),n},h.dividedBy=h.div=function(e,t){return r(this,new L(e,t),p,y)},h.dividedToIntegerBy=h.idiv=function(e,t){return r(this,new L(e,t),0,1)},h.exponentiatedBy=h.pow=function(e,t){var r,n,o,i,s,a,u,c,l=this;if((e=new L(e)).c&&!e.isInteger())throw Error(le+"Exponent not an integer: "+D(e));if(null!=t&&(t=new L(t)),s=e.e>14,!l.c||!l.c[0]||1==l.c[0]&&!l.e&&1==l.c.length||!e.c||!e.c[0])return c=new L(Math.pow(+D(l),s?2-be(e):+D(e))),t?c.mod(t):c;if(a=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new L(NaN);(n=!a&&l.isInteger()&&t.isInteger())&&(l=l.mod(t))}else{if(e.e>9&&(l.e>0||l.e<-1||(0==l.e?l.c[0]>1||s&&l.c[1]>=24e7:l.c[0]<8e13||s&&l.c[0]<=9999975e7)))return i=l.s<0&&be(e)?-0:0,l.e>-1&&(i=1/i),new L(a?1/i:i);S&&(i=ue(S/14+2))}for(s?(r=new L(.5),a&&(e.s=1),u=be(e)):u=(o=Math.abs(+D(e)))%2,c=new L(d);;){if(u){if(!(c=c.times(l)).c)break;i?c.c.length>i&&(c.c.length=i):n&&(c=c.mod(t))}if(o){if(0===(o=ce(o/2)))break;u=o%2}else if(A(e=e.times(r),e.e+1,1),e.e>14)u=be(e);else{if(0===(o=+D(e)))break;u=o%2}l=l.times(l),i?l.c&&l.c.length>i&&(l.c.length=i):n&&(l=l.mod(t))}return n?c:(a&&(c=d.div(c)),t?c.mod(t):i?A(c,S,y,undefined):c)},h.integerValue=function(e){var t=new L(this);return null==e?e=y:me(e,0,8),A(t,t.e+1,e)},h.isEqualTo=h.eq=function(e,t){return 0===ge(this,new L(e,t))},h.isFinite=function(){return!!this.c},h.isGreaterThan=h.gt=function(e,t){return ge(this,new L(e,t))>0},h.isGreaterThanOrEqualTo=h.gte=function(e,t){return 1===(t=ge(this,new L(e,t)))||0===t},h.isInteger=function(){return!!this.c&&ye(this.e/14)>this.c.length-2},h.isLessThan=h.lt=function(e,t){return ge(this,new L(e,t))<0},h.isLessThanOrEqualTo=h.lte=function(e,t){return-1===(t=ge(this,new L(e,t)))||0===t},h.isNaN=function(){return!this.s},h.isNegative=function(){return this.s<0},h.isPositive=function(){return this.s>0},h.isZero=function(){return!!this.c&&0==this.c[0]},h.minus=function(e,t){var r,n,o,i,s=this,a=s.s;if(t=(e=new L(e,t)).s,!a||!t)return new L(NaN);if(a!=t)return e.s=-t,s.plus(e);var u=s.e/14,c=e.e/14,l=s.c,f=e.c;if(!u||!c){if(!l||!f)return l?(e.s=-t,e):new L(f?s:NaN);if(!l[0]||!f[0])return f[0]?(e.s=-t,e):new L(l[0]?s:3==y?-0:0)}if(u=ye(u),c=ye(c),l=l.slice(),a=u-c){for((i=a<0)?(a=-a,o=l):(c=u,o=f),o.reverse(),t=a;t--;o.push(0));o.reverse()}else for(n=(i=(a=l.length)<(t=f.length))?a:t,a=t=0;t<n;t++)if(l[t]!=f[t]){i=l[t]<f[t];break}if(i&&(o=l,l=f,f=o,e.s=-e.s),(t=(n=f.length)-(r=l.length))>0)for(;t--;l[r++]=0);for(t=he-1;n>a;){if(l[--n]<f[n]){for(r=n;r&&!l[--r];l[r]=t);--l[r],l[n]+=he}l[n]-=f[n]}for(;0==l[0];l.splice(0,1),--c);return l[0]?U(e,l,c):(e.s=3==y?-1:1,e.c=[e.e=0],e)},h.modulo=h.mod=function(e,t){var n,o,i=this;return e=new L(e,t),!i.c||!e.s||e.c&&!e.c[0]?new L(NaN):!e.c||i.c&&!i.c[0]?new L(i):(9==v?(o=e.s,e.s=1,n=r(i,e,0,3),e.s=o,n.s*=o):n=r(i,e,0,v),(e=i.minus(n.times(e))).c[0]||1!=v||(e.s=i.s),e)},h.multipliedBy=h.times=function(e,t){var r,n,o,i,s,a,u,c,l,f,h,d,p,y,w,g=this,m=g.c,b=(e=new L(e,t)).c;if(!(m&&b&&m[0]&&b[0]))return!g.s||!e.s||m&&!m[0]&&!b||b&&!b[0]&&!m?e.c=e.e=e.s=null:(e.s*=g.s,m&&b?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=ye(g.e/14)+ye(e.e/14),e.s*=g.s,(u=m.length)<(f=b.length)&&(p=m,m=b,b=p,o=u,u=f,f=o),o=u+f,p=[];o--;p.push(0));for(y=he,w=1e7,o=f;--o>=0;){for(r=0,h=b[o]%w,d=b[o]/w|0,i=o+(s=u);i>o;)r=((c=h*(c=m[--s]%w)+(a=d*c+(l=m[s]/w|0)*h)%w*w+p[i]+r)/y|0)+(a/w|0)+d*l,p[i--]=c%y;p[i]=r}return r?++n:p.splice(0,1),U(e,p,n)},h.negated=function(){var e=new L(this);return e.s=-e.s||null,e},h.plus=function(e,t){var r,n=this,o=n.s;if(t=(e=new L(e,t)).s,!o||!t)return new L(NaN);if(o!=t)return e.s=-t,n.minus(e);var i=n.e/14,s=e.e/14,a=n.c,u=e.c;if(!i||!s){if(!a||!u)return new L(o/0);if(!a[0]||!u[0])return u[0]?e:new L(a[0]?n:0*o)}if(i=ye(i),s=ye(s),a=a.slice(),o=i-s){for(o>0?(s=i,r=u):(o=-o,r=a),r.reverse();o--;r.push(0));r.reverse()}for((o=a.length)-(t=u.length)<0&&(r=u,u=a,a=r,t=o),o=0;t;)o=(a[--t]=a[t]+u[t]+o)/he|0,a[t]=he===a[t]?0:a[t]%he;return o&&(a=[o].concat(a),++s),U(e,a,s)},h.precision=h.sd=function(e,t){var r,n,o,i=this;if(null!=e&&e!==!!e)return me(e,1,pe),null==t?t=y:me(t,0,8),A(new L(i),e,t);if(!(r=i.c))return null;if(n=14*(o=r.length-1)+1,o=r[o]){for(;o%10==0;o/=10,n--);for(o=r[0];o>=10;o/=10,n++);}return e&&i.e+1>n&&(n=i.e+1),n},h.shiftedBy=function(e){return me(e,-9007199254740991,9007199254740991),this.times("1e"+e)},h.squareRoot=h.sqrt=function(){var e,t,n,o,i,s=this,a=s.c,u=s.s,c=s.e,l=p+4,f=new L("0.5");if(1!==u||!a||!a[0])return new L(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(u=Math.sqrt(+D(s)))||u==1/0?(((t=we(a)).length+c)%2==0&&(t+="0"),u=Math.sqrt(+t),c=ye((c+1)/2)-(c<0||c%2),n=new L(t=u==1/0?"5e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):n=new L(u+""),n.c[0])for((u=(c=n.e)+l)<3&&(u=0);;)if(i=n,n=f.times(i.plus(r(s,i,l,1))),we(i.c).slice(0,u)===(t=we(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(A(n,n.e+p+2,1),e=!n.times(n).eq(s));break}if(!o&&(A(i,i.e+p+2,0),i.times(i).eq(s))){n=i;break}l+=4,u+=4,o=1}return A(n,n.e+p+1,y,e)},h.toExponential=function(e,t){return null!=e&&(me(e,0,pe),e++),I(this,e,t,1)},h.toFixed=function(e,t){return null!=e&&(me(e,0,pe),e=e+this.e+1),I(this,e,t)},h.toFormat=function(e,t,r){var n,o=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=x;else if("object"!=typeof r)throw Error(le+"Argument not an object: "+r);if(n=o.toFixed(e,t),o.c){var i,s=n.split("."),a=+r.groupSize,u=+r.secondaryGroupSize,c=r.groupSeparator||"",l=s[0],f=s[1],h=o.s<0,d=h?l.slice(1):l,p=d.length;if(u&&(i=a,a=u,u=i,p-=i),a>0&&p>0){for(i=p%a||a,l=d.substr(0,i);i<p;i+=a)l+=c+d.substr(i,a);u>0&&(l+=c+d.slice(i)),h&&(l="-"+l)}n=f?l+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?f.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):f):l}return(r.prefix||"")+n+(r.suffix||"")},h.toFraction=function(e){var t,n,o,i,s,a,u,c,l,f,h,p,w=this,g=w.c;if(null!=e&&(!(u=new L(e)).isInteger()&&(u.c||1!==u.s)||u.lt(d)))throw Error(le+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+D(u));if(!g)return new L(w);for(t=new L(d),l=n=new L(d),o=c=new L(d),p=we(g),s=t.e=p.length-w.e-1,t.c[0]=de[(a=s%14)<0?14+a:a],e=!e||u.comparedTo(t)>0?s>0?t:l:u,a=b,b=1/0,u=new L(p),c.c[0]=0;f=r(u,t,0,1),1!=(i=n.plus(f.times(o))).comparedTo(e);)n=o,o=i,l=c.plus(f.times(i=l)),c=i,t=u.minus(f.times(i=t)),u=i;return i=r(e.minus(n),o,0,1),c=c.plus(i.times(l)),n=n.plus(i.times(o)),c.s=l.s=w.s,h=r(l,o,s*=2,y).minus(w).abs().comparedTo(r(c,n,s,y).minus(w).abs())<1?[l,o]:[c,n],b=a,h},h.toNumber=function(){return+D(this)},h.toPrecision=function(e,t){return null!=e&&me(e,1,pe),I(this,e,t,2)},h.toString=function(e){var t,r=this,o=r.s,i=r.e;return null===i?o?(t="Infinity",o<0&&(t="-"+t)):t="NaN":(null==e?t=i<=w||i>=g?Ee(we(r.c),i):ve(we(r.c),i,"0"):10===e&&O?t=ve(we((r=A(new L(r),p+i+1,y)).c),r.e,"0"):(me(e,2,B.length,"Base"),t=n(ve(we(r.c),i,"0"),10,e,o,!0)),o<0&&r.c[0]&&(t="-"+t)),t},h.valueOf=h.toJSON=function(){return D(this)},h._isBigNumber=!0,h[Symbol.toStringTag]="BigNumber",h[Symbol.for("nodejs.util.inspect.custom")]=h.valueOf,null!=t&&L.set(t),L}();const xe=new Se("1e+18"),Be=e=>{const t=ie(e),{encode:r,decode:n}=te(t),o=t;return o.decode=(e,t)=>{const r=n(e,t).toString();return new Se(r).div(xe)},o.encode=(e,t,n)=>{const o=BigInt(e.times(xe).integerValue().toString());return r(o,t,n)},o},Oe=e=>{const t=$(e),{encode:r,decode:n}=te(t),o=t;return o.decode=(e,t)=>!!n(e,t),o.encode=(e,t,n)=>{const o=Number(e);return r(o,t,n)},o},Le=e=>{const t=ee(32,e),{encode:n,decode:o}=te(t),i=t;return i.decode=(e,t)=>{const n=o(e,t);return new r(n)},i.encode=(e,t,r)=>{const o=e.toBuffer();return n(o,t,r)},i};function Ie(e){return new De(8,!1,e)}function Ne(e){return new De(8,!0,e)}function Ue(e){return new De(16,!1,e)}function Ae(e){return new De(16,!0,e)}class De extends c{constructor(e,t,r){super(e,r),this.blob=ee(e),this.signed=t}encode(e,t,r=0){return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),t,r)}decode(t,r=0){const n=new e(this.blob.decode(t,r),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}}function Te(e,t){return new Pe(e,t)}class Pe extends c{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=$()}encode(e,t,r=0){return null==e?this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.discriminator.span+this.layout.encode(e,t,r+this.discriminator.span))}decode(e,t=0){const r=this.discriminator.decode(e,t);if(0===r)return null;if(1===r)return this.layout.decode(e,t+this.discriminator.span);throw new Error("Invalid option "+this.layout.property)}getSpan(e,t=0){const r=this.discriminator.decode(e,t);if(0===r)return 1;if(1===r)return this.layout.getSpan(e,t+1)+1;throw new Error("Invalid option "+this.property)}}function _e(e,t){return new ke(e,t)}class ke extends c{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=H()}encode(e,t,r=0){return null==e?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.discriminator.span+this.layout.encode(e,t,r+this.discriminator.span))}decode(e,t=0){const r=this.discriminator.decode(e,t);if(0===r)return null;if(1===r)return this.layout.decode(e,t+this.discriminator.span);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.discriminator.span+this.layout.getSpan(e,t+this.discriminator.span)}}function Ce(e,t){return new Re(e,t)}class Re extends c{constructor(e,t){super(-1,t),this.layout=Z([H("length"),K(e,q(H(),-4),"src")],t)}encode(e,t,r=0){const n={src:e};return this.layout.encode(n,t,r)}decode(e,t=0){return this.layout.decode(e,t).src}getSpan(e,t=0){return this.layout.getSpan(e,t)}}function je(e){return new Me(e)}class Me extends c{constructor(e){super(-1,e),this.layout=Z([H("length"),ee(q(H(),-4),"src")],this.property)}encode(e,t,r=0){if(null==e)return this.layout.span;const n={src:e};return this.layout.encode(n,t,r)}decode(e,t=0){return this.layout.decode(e,t).src}getSpan(t,r=0){return H().span+new e(new Uint8Array(t).slice(r,r+4),10,"le").toNumber()}}function Fe(e){return new Ve(e)}class Ve extends c{constructor(e){super(-1,e),this.layout=Z([H("length"),ee(q(H(),-4),"src")],this.property)}encode(e,t,r=0){if(null==e)return this.layout.span;const n={src:Buffer.from(e,"utf8")};return this.layout.encode(n,t,r)}decode(e,t=0){return this.layout.decode(e,t).src.toString()}getSpan(t,r=0){return H().span+new e(new Uint8Array(t).slice(r,r+4),10,"le").toNumber()}}export{c as Layout,ee as blob,Oe as bool,je as bytes,_e as coption,Be as decimal,Y as f32,J as f64,Ae as i128,o as i16,X as i32,Ne as i64,W as i8,Te as option,Le as publicKey,K as seq,Z as struct,Ue as u128,z as u16,H as u32,Ie as u64,$ as u8,Q as union,Fe as utf8Str,Ce as vec};
//# sourceMappingURL=index.js.map
